(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a(58)},30:function(e,t,a){},32:function(e,t,a){},58:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(22),r=a.n(c),s=(a(30),a(6)),o=a(7),i=a(9),m=a(8),u=a(10),p=(a(32),a(62)),h=a(61),d=a(11),f=a.n(d),b=a(59),E="localhost"===window.location.hostname?"http://localhost:3000/article":"https://simplekitchen.herokuapp.com",g=function(e,t){var a=new FormData;Object.keys(e).forEach(function(t){a.append(t,e[t])}),f.a.post("".concat(E,"/"),a,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){t.push("/")}).catch(function(e){console.log("Error Storing Article =====> ",e.response)})},v=function(e){f.a.post("".concat(E,"/delete/").concat(e)).then(function(){}).catch(function(e){console.log("Error Deleting Article =====> ",e.response)})},N=function(e,t,a){var l=new FormData;Object.keys(e).forEach(function(t){l.append(t,e[t])}),f.a.post("".concat(E,"/edit/").concat(t),l,{headers:{"Content-Type":"multipart/form-data"}}).then(function(){a.push("/")}).catch(function(e){console.log("Error Deleting Article =====> ",e.response)})},y=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).componentWillMount=function(){e.getArticles()},e.deleteArticle=function(t){console.log("ID: ",t),v(t),e.getArticles()},e.editArticle=function(e){console.log("ID: ",e)},e.state={articles:[]},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"getArticles",value:function(){var e=this;f.a.get("http://localhost:3000/article").then(function(t){var a=t.data.articles;e.setState({articles:a})})}},{key:"render",value:function(){var e=this,t=this.state.articles;return n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement(b.a,{className:"navbar-brand",to:"/new"},n.a.createElement("button",{type:"button",className:"btn btn-outline-danger"},"Agrega un nuevo producto")),n.a.createElement("hr",null),t?n.a.createElement("div",{className:"card-columns"},this.state.articles.map(function(t,a){return n.a.createElement("div",{className:"card p-3",key:a},n.a.createElement("blockquote",{className:"blockquote mb-0 card-body"},n.a.createElement("h5",{className:"card-title"},t.name),n.a.createElement("img",{className:"img-thumbnail",src:t.photo,alt:t.name}),n.a.createElement("p",null,"$",t.price,".00"),n.a.createElement(b.a,{to:"/edit/".concat(t._id),className:"card-link"},"Editar"),n.a.createElement(b.a,{to:".",className:"card-link text-danger",onClick:function(){return e.deleteArticle(t._id)}},"Eliminar")))})):n.a.createElement("h3",null,"No hay articulos que mostrar"))}}]),t}(l.Component),w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).imageHandler=function(t){t.target.files[0]?(e.setState({image:t.target.files[0]}),e.setState({file:URL.createObjectURL(t.target.files[0])})):e.setState({file:null})},e.handleChange=function(t){var a=e.state.article;a[t.target.name]=t.target.value,e.setState({article:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.article,l=e.state.image;a.photo=l,g(e.state.article,e.props.history)},e.state={file:null,image:null,article:{name:"",price:"",photo:null}},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.file;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"card text-center"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Add a new product"),n.a.createElement("form",{className:"text-left",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"signupUsername","aria-describedby":"signupUsername",name:"name",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Price"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"signupPass","aria-describedby":"signupPass",name:"price",onChange:this.handleChange}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Photos"),n.a.createElement("input",{type:"file",className:"col-sm-10",id:"signupPass","aria-describedby":"signupPass",name:"photos",multiple:!0,onChange:this.imageHandler})),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"",className:"col-sm-2 col-form-label"}),e?n.a.createElement("img",{responsive:"true",src:this.state.file,alt:"alt",width:"200",height:"200"}):n.a.createElement("div",null)),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"",className:"col-sm-2 col-form-label"}),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Guardar"),n.a.createElement(b.a,{to:"/"},n.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Cancelar"))))))))}}]),t}(l.Component),j=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(m.a)(t).call(this))).componentWillMount=function(){var t="localhost"===window.location.hostname?"http://localhost:3000/article":"https://simplekitchen.herokuapp.com";f.a.get("".concat(t,"/").concat(e.props.match.params.id)).then(function(t){var a=t.data.article;e.setState({article:a})})},e.imageHandler=function(t){console.log(t.target.files[0]),t.target.files[0]?(e.setState({image:t.target.files[0]}),e.setState({file:URL.createObjectURL(t.target.files[0])})):e.setState({file:null})},e.handleChange=function(t){var a=e.state.article;a[t.target.name]=t.target.value,e.setState({article:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.article,l=e.state.image;l&&(a.photo=l),N(e.state.article,e.state.article._id,e.props.history)},e.state={file:null,image:null,article:{}},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.state.file,t=this.state.article.photo;return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"card text-center"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},"Edit this product"),n.a.createElement("form",{className:"text-left",onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Name"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"signupUsername","aria-describedby":"signupUsername",name:"name",onChange:this.handleChange,defaultValue:this.state.article.name}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Price"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"signupPass","aria-describedby":"signupPass",name:"price",onChange:this.handleChange,defaultValue:this.state.article.price}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"exampleInputEmail1",className:"col-sm-2 col-form-label"},"Photos"),n.a.createElement("input",{type:"file",className:"col-sm-10",id:"signupPass","aria-describedby":"signupPass",name:"photos",multiple:!0,onChange:this.imageHandler})),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"",className:"col-sm-2 col-form-label"}),e?n.a.createElement("img",{responsive:"true",src:this.state.file,alt:"alt",width:"200",height:"200"}):n.a.createElement("img",{responsive:"true",src:t,alt:"alt",width:"200",height:"200"})),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"",className:"col-sm-2 col-form-label"}),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Actualizar"),n.a.createElement(b.a,{to:"/"},n.a.createElement("button",{type:"submit",className:"btn btn-danger"},"Cancelar"))))))))}}]),t}(l.Component),O=function(){return n.a.createElement(p.a,null,n.a.createElement(h.a,{exact:!0,path:"/",component:y}),n.a.createElement(h.a,{exact:!0,path:"/new",component:w}),n.a.createElement(h.a,{exact:!0,path:"/edit/:id",component:j}))},k=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"container"},n.a.createElement(O,null)))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(60);a(56);r.a.render(n.a.createElement(function(){return n.a.createElement(C.a,null,n.a.createElement(k,null))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.88877343.chunk.js.map